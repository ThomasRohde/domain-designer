<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Domain Designer</title>
    <script type="text/javascript">
      // GitHub Pages SPA redirect for Domain Designer
      // This handles the case where GitHub Pages returns 404 for client-side routes
      // and redirects to the main app with the path preserved
      console.log('üîç 404.html executing with location:', window.location.href);
      (function(l) {
        // Get the current path
        var path = l.pathname;
        
        // If we're in the domain-designer subdirectory, preserve the full path
        if (path.startsWith('/domain-designer/')) {
          console.log('üîç Redirecting domain-designer path:', path, 'search:', l.search);
          
          // Store the original path in sessionStorage for React Router to handle
          sessionStorage.setItem('github-pages-redirect', path.substring('/domain-designer'.length) + l.search + l.hash);
          
          // Replace the current URL in history with the full preserved path
          window.history.replaceState(null, null, path + l.search + l.hash);
          
          // Redirect to index.html - React Router will handle the actual routing
          var redirectUrl = '/domain-designer/' + l.search + l.hash;
          console.log('üîç Redirecting to:', redirectUrl, 'stored route:', path.substring('/domain-designer'.length));
          window.location.replace(redirectUrl);
        } else {
          console.log('üîç Redirecting root path:', path, 'search:', l.search);
          // Fallback for root domain deployment
          sessionStorage.setItem('github-pages-redirect', path + l.search + l.hash);
          window.history.replaceState(null, null, path + l.search + l.hash);
          var redirectUrl = '/' + l.search + l.hash;
          console.log('üîç Redirecting to:', redirectUrl, 'stored route:', path);
          window.location.replace(redirectUrl);
        }
      }(window.location))
    </script>
  </head>
  <body>
    <div>Redirecting to Domain Designer...</div>
  </body>
</html>